<!DOCTYPE html>
<html>
<head>
	<title>Shawn's Rehab Provider Navigator</title>
	<style>
		body {
			background-color: rgba(211, 17, 69, 0.8);
			color: #fff;
			text-align: center;
			font-family: sans-serif;
			margin: 0;
			padding: 0;
		}
		.container {
			margin: auto;
			max-width: 600px;
			padding: 20px;
			border: 1px solid #000;
			background-color: rgba(211, 17, 69, 1);
		}
		h1 {
			margin-top: 0;
		}
		input[type=text] {
			padding: 10px;
			font-size: 16px;
			border-radius: 5px;
			border: none;
			width: 100%;
			margin-bottom: 20px;
			box-sizing: border-box;
		}
		input[type=submit] {
			background-color: #fff;
			color: #000;
			padding: 10px;
			border-radius: 5px;
			border: none;
			font-size: 16px;
			cursor: pointer;
			box-sizing: border-box;
		}
		table {
			margin: auto;
			border-collapse: collapse;
			width: 100%;
			max-width: 600px;
		}
		th, td {
			padding: 8px;
			text-align: left;
			border-bottom: 1px solid #ddd;
			font-size: 14px;
			font-weight: normal;
		}
		th {
			background-color: #f2f2f2;
			font-weight: bold;
		}
	</style>
</head>
<body>
	<div class="container">
		<h1>Shawn's Rehab Provider Navigator</h1>
		<form method="get">
			<label for="postcode">Enter Member Postcode:</label>
			<input type="text" id="postcode" name="postcode" placeholder="Enter postcode...">
			<input type="submit" value="Search">
		</form>
		<table id="resultsTable">
			<thead>
				<tr>
					<th>Name</th>
					<th>Address</th>
					<th>Phone</th>
				</tr>
			</thead>
			<tbody>
			</tbody>
		</table>
	</div>
	<script>
		const form = document.querySelector('form');
		const table = document.querySelector('#resultsTable tbody');
		form.addEventListener('submit', (event) => {
			event.preventDefault();
			const postcode = document.querySelector('#postcode').value;
			fetch('providers.csv')
				.then(response => response.text())
				.then(text => {
					const providers = text.split('\n').map(row => row.split(','));
					const matchingProviders = providers.filter(provider => provider[3].includes(postcode));
					table.innerHTML = '';
					matchingProviders.forEach(provider => {
						const row = document.createElement('tr');
						row.innerHTML = `
							<td>${provider[0]}</td>
							<td>${provider[1]}</td>
							<td>${provider[2]}</td>
						`;
						table.appendChild(row);
					});
				});
		});
	</script>
</body>
</html>
